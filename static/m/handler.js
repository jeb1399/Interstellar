if(!self.__uv){__uvHook(self,self.__uv$config,self.__uv$config.bare)};async function __uvHook(w,c={},b='/bare/'){if('__uv'in w&&w.__uv instanceof Ultraviolet)return false;if(w.document&&!!w.window){w.document.querySelectorAll("script[__uv-script]").forEach(n=>n.remove())};const isWorker=!w.window,m='__uv',prefix='__uv$',__uv=new Ultraviolet({...c,window:w});if(typeof c.construct==='function'){c.construct(__uv,isWorker?'worker':'window')};const{client}=__uv,{HTMLMediaElement,HTMLScriptElement,HTMLAudioElement,HTMLVideoElement,HTMLInputElement,HTMLEmbedElement,HTMLTrackElement,HTMLAnchorElement,HTMLIFrameElement,HTMLAreaElement,HTMLLinkElement,HTMLBaseElement,HTMLFormElement,HTMLImageElement,HTMLSourceElement}=w;client.nativeMethods.defineProperty(w,'__uv',{value:__uv,enumerable:false});__uv.meta.origin=location.origin;__uv.location=client.location.emulate(href=>{if(href==='about:srcdoc')return new URL(href);if(href.startsWith('blob:'))href=href.slice('blob:'.length);return new URL(__uv.sourceUrl(href))},href=>{return __uv.rewriteUrl(href)});__uv.cookieStr=w.__uv$cookies||'';__uv.meta.url=__uv.location;__uv.domain=__uv.meta.url.host;__uv.blobUrls=new w.Map();__uv.referrer='';__uv.cookies=[];__uv.localStorageObj={};__uv.sessionStorageObj={};try{__uv.bare=new URL(b,w.location.href)}catch(e){__uv.bare=w.parent.__uv.bare};if(__uv.location.href==='about:srcdoc'){__uv.meta=w.parent.__uv.meta};if(w.EventTarget){__uv.addEventListener=w.EventTarget.prototype.addEventListener;__uv.removeListener=w.EventTarget.prototype.removeListener;__uv.dispatchEvent=w.EventTarget.prototype.dispatchEvent};client.nativeMethods.defineProperty(client.storage.storeProto,'__uv$storageObj',{get(){if(this===client.storage.sessionStorage)return __uv.sessionStorageObj;if(this===client.storage.localStorage)return __uv.localStorageObj;},enumerable:false});if(w.localStorage){for(const key in w.localStorage){if(key.startsWith(prefix+__uv.location.origin+'@')){__uv.localStorageObj[key.slice((prefix+__uv.location.origin+'@').length)]=w.localStorage.getItem(key)}};__uv.lsWrap=client.storage.emulate(client.storage.localStorage,__uv.localStorageObj)};if(w.sessionStorage){for(const key in w.sessionStorage){if(key.startsWith(prefix+__uv.location.origin+'@')){__uv.sessionStorageObj[key.slice((prefix+__uv.location.origin+'@').length)]=w.sessionStorage.getItem(key)}};__uv.ssWrap=client.storage.emulate(client.storage.sessionStorage,__uv.sessionStorageObj)};let rawBase=w.document?client.node.baseURI.get.call(w.document):w.location.href,base=__uv.sourceUrl(rawBase);client.nativeMethods.defineProperty(__uv.meta,'base',{get(){if(!w.document)return __uv.meta.url.href;if(client.node.baseURI.get.call(w.document)!==rawBase){rawBase=client.node.baseURI.get.call(w.document);base=__uv.sourceUrl(rawBase)};return base}});__uv.methods={setSource:prefix+'setSource',source:prefix+'source',location:prefix+'location',function:prefix+'function',string:prefix+'string',eval:prefix+'eval',parent:prefix+'parent',top:prefix+'top'};__uv.filterKeys=[m,__uv.methods.setSource,__uv.methods.source,__uv.methods.location,__uv.methods.function,__uv.methods.string,__uv.methods.eval,__uv.methods.parent,__uv.methods.top,prefix+'protocol',prefix+'storageObj',prefix+'url',prefix+'modifiedStyle',prefix+'config',prefix+'dispatched','Ultraviolet','__uvHook'];client.on('wrap',(t,w)=>{client.nativeMethods.defineProperty(w,'name',client.nativeMethods.getOwnPropertyDescriptor(t,'name'));client.nativeMethods.defineProperty(w,'length',client.nativeMethods.getOwnPropertyDescriptor(t,'length'));client.nativeMethods.defineProperty(w,__uv.methods.string,{enumerable:false,value:client.nativeMethods.fnToString.call(t)});client.nativeMethods.defineProperty(w,__uv.methods.function,{enumerable:false,value:t})});client.fetch.on('request',e=>{e.data.input=__uv.rewriteUrl(e.data.input)});client.fetch.on('requestUrl',e=>{e.data.value=__uv.sourceUrl(e.data.value)});client.fetch.on('responseUrl',e=>{e.data.value=__uv.sourceUrl(e.data.value)});client.xhr.on('open',e=>{e.data.input=__uv.rewriteUrl(e.data.input)});client.xhr.on('responseUrl',e=>{e.data.value=__uv.sourceUrl(e.data.value)});client.workers.on('worker',e=>{e.data.url=__uv.rewriteUrl(e.data.url)});client.workers.on('addModule',e=>{e.data.url=__uv.rewriteUrl(e.data.url)});client.workers.on('importScripts',e=>{for(const i in e.data.scripts){e.data.scripts[i]=__uv.rewriteUrl(e.data.scripts[i])}});client.workers.on('postMessage',e=>{let to=e.data.origin;e.data.origin='*';e.data.message={__data:e.data.message,__origin:__uv.meta.url.origin,__to:to}});client.navigator.on('sendBeacon',e=>{e.data.url=__uv.rewriteUrl(e.data.url)});client.document.on('getCookie',e=>{e.data.value=__uv.cookieStr});client.document.on('setCookie',e=>{Promise.resolve(__uv.cookie.setCookies(e.data.value,__uv.db,__uv.meta)).then(()=>{__uv.cookie.db().then(db=>{__uv.cookie.getCookies(db).then(cookies=>{__uv.cookieStr=__uv.cookie.serialize(cookies,__uv.meta,true)})})});const c=__uv.cookie.setCookie(e.data.value)[0];if(!c.path)c.path='/';if(!c.domain)c.domain=__uv.meta.url.hostname;if(__uv.cookie.validateCookie(c,__uv.meta,true)){if(__uv.cookieStr.length)__uv.cookieStr+=' ';__uv.cookieStr+=`${c.name}=${c.value}`}e.respondWith(e.data.value)});client.element.on('setInnerHTML',e=>{switch(e.that.tagName){case'SCRIPT':e.data.value=__uv.js.rewrite(e.data.value);break;case'STYLE':e.data.value=__uv.rewriteCSS(e.data.value);break;default:e.data.value=__uv.rewriteHtml(e.data.value)}});client.element.on('getInnerHTML',e=>{switch(e.that.tagName){case'SCRIPT':e.data.value=__uv.js.source(e.data.value);break;default:e.data.value=__uv.sourceHtml(e.data.value)}});client.element.on('setOuterHTML',e=>{e.data.value=__uv.rewriteHtml(e.data.value)});client.element.on('getOuterHTML',e=>{switch(e.that.tagName){case'HEAD':e.data.value=__uv.sourceHtml(e.data.value.replace(/<head(.*)>(.*)<\/head>/s,'<op-head$1>$2</op-head>')).replace(/<op-head(.*)>(.*)<\/op-head>/s,'<head$1>$2</head>');break;case'BODY':e.data.value=__uv.sourceHtml(e.data.value.replace(/<body(.*)>(.*)<\/body>/s,'<op-body$1>$2</op-body>')).replace(/<op-body(.*)>(.*)<\/op-body>/s,'<body$1>$2</body>');break;default:e.data.value=__uv.sourceHtml(e.data.value)}});client.document.on('write',e=>{if(!e.data.html.length)return false;e.data.html=[__uv.rewriteHtml(e.data.html.join(''))]});client.document.on('writeln',e=>{if(!e.data.html.length)return false;e.data.html=[__uv.rewriteHtml(e.data.html.join(''))]});client.element.on('insertAdjacentHTML',e=>{e.data.html=__uv.rewriteHtml(e.data.html)});client.eventSource.on('construct',e=>{e.data.url=__uv.rewriteUrl(e.data.url)});client.eventSource.on('url',e=>{e.data.url=__uv.rewriteUrl(e.data.url)});client.history.on('replaceState',e=>{if(e.data.url)e.data.url=__uv.rewriteUrl(e.data.url)});client.history.on('pushState',e=>{if(e.data.url)e.data.url=__uv.rewriteUrl(e.data.url)});client.element.on('getAttribute',e=>{if(client.element.hasAttribute.call(e.that,__uv.attributePrefix+'-attr-'+e.data.name)){e.data.value=client.element.getAttribute.call(e.that,__uv.attributePrefix+'-attr-'+e.data.name)}});client.element.on('setAttribute',e=>{if(e.that instanceof HTMLMediaElement&&e.data.name==='src'&&e.data.value.startsWith('blob:')){e.target.call(e.that,__uv.attributePrefix+'-attr-'+e.data.name,e.data.value);e.data.value=__uv.blobUrls.get(e.data.value);return};if(__uv.attrs.isUrl(e.data.name)){e.target.call(e.that,__uv.attributePrefix+'-attr-'+e.data.name,e.data.value);e.data.value=__uv.rewriteUrl(e.data.value)};if(__uv.attrs.isStyle(e.data.name)){e.target.call(e.that,__uv.attributePrefix+'-attr-'+e.data.name,e.data.value);e.data.value=__uv.rewriteCSS(e.data.value,{context:'declarationList'})};if(__uv.attrs.isHtml(e.data.name)){e.target.call(e.that,__uv.attributePrefix+'-attr-'+e.data.name,e.data.value);e.data.value=__uv.rewriteHtml(e.data.value,{...__uv.meta,document:true,injectHead:__uv.createHtmlInject(__uv.handlerScript,__uv.bundleScript,__uv.configScript,__uv.cookieStr,window.location.href)})};if(__uv.attrs.isSrcset(e.data.name)){e.target.call(e.that,__uv.attributePrefix+'-attr-'+e.data.name,e.data.value);e.data.value=__uv.html.wrapSrcset(e.data.value)};if(__uv.attrs.isForbidden(e.data.name)){e.data.name=__uv.attributePrefix+'-attr-'+e.data.name}});client.element.hookProperty([HTMLAnchorElement,HTMLAreaElement,HTMLLinkElement,HTMLBaseElement],'href',{get(t,that){return __uv.sourceUrl(t.call(that))},set(t,that,[val]){e.target.call(that,__uv.attributePrefix+'-attr-href',val);t.call(that,__uv.rewriteUrl(val))}});client.element.hookProperty([HTMLScriptElement,HTMLAudioElement,HTMLVideoElement,HTMLImageElement,HTMLInputElement,HTMLEmbedElement,HTMLIFrameElement,HTMLTrackElement,HTMLSourceElement],'src',{get(t,that){return __uv.sourceUrl(t.call(that))},set(t,that,[val]){if(new String(val).toString().trim().startsWith('blob:')&&that instanceof HTMLMediaElement){e.target.call(that,__uv.attributePrefix+'-attr-src',val);return t.call(that,__uv.blobUrls.get(val)||val)};e.target.call(that,__uv.attributePrefix+'-attr-src',val);t.call(that,__uv.rewriteUrl(val))}});client.element.hookProperty([HTMLFormElement],'action',{get(t,that){return __uv.sourceUrl(t.call(that))},set(t,that,[val]){e.target.call(that,__uv.attributePrefix+'-attr-action',val);t.call(that,__uv.rewriteUrl(val))}});client.element.hookProperty([HTMLImageElement],'srcset',{get(t,that){return client.element.getAttribute.call(that,__uv.attributePrefix+'-attr-srcset')||t.call(that)},set(t,that,[val]){e.target.call(that,__uv.attributePrefix+'-attr-srcset',val);t.call(that,__uv.html.wrapSrcset(val))}});client.element.hookProperty(HTMLScriptElement,'integrity',{get(t,that){return client.element.getAttribute.call(that,__uv.attributePrefix+'-attr-integrity')},set(t,that,[val]){e.target.call(that,__uv.attributePrefix+'-attr-integrity',val)}});client.element.hookProperty(HTMLIFrameElement,'sandbox',{get(t,that){return client.element.getAttribute.call(that,__uv.attributePrefix+'-attr-sandbox')||t.call(that)},set(t,that,[val]){e.target.call(that,__uv.attributePrefix+'-attr-sandbox',val)}});client.element.hookProperty(HTMLIFrameElement,'contentWindow',{get(t,that){const win=t.call(that);try{if(!win.__uv)__uvHook(win,c,b);return win}catch(e){return win}}});client.element.hookProperty(HTMLIFrameElement,'contentDocument',{get(t,that){const doc=t.call(that);try{const win=doc.defaultView;if(!win.__uv)__uvHook(win,c,b);return doc}catch(e){return win}}});client.element.hookProperty(HTMLIFrameElement,'srcdoc',{get(t,that){return client.element.getAttribute.call(that,__uv.attributePrefix+'-attr-srcdoc')||t.call(that)},set(t,that,[val]){t.call(that,__uv.rewriteHtml(val,{document:true,injectHead:__uv.createHtmlInject(__uv.handlerScript,__uv.bundleScript,__uv.configScript,__uv.cookieStr,window.location.href)}))}});client.node.on('getTextContent',e=>{if(e.that.tagName==='SCRIPT'){e.data.value=__uv.js.source(e.data.value)}});client.node.on('setTextContent',e=>{if(e.that.tagName==='SCRIPT'){e.data.value=__uv.js.rewrite(e.data.value)}});if('serviceWorker'in window.navigator){delete window.Navigator.prototype.serviceWorker};client.document.on('getDomain',e=>{e.data.value=__uv.domain});client.document.on('setDomain',e=>{if(!e.data.value.toString().endsWith(__uv.meta.url.hostname.split('.').slice(-2).join('.')))return e.respondWith('');e.respondWith(__uv.domain=e.data.value)});client.document.on('url',e=>{e.data.value=__uv.location.href});client.document.on('documentURI',e=>{e.data.value=__uv.location.href});client.document.on('referrer',e=>{e.data.value=__uv.referrer||__uv.sourceUrl(e.data.value)});client.document.on('parseFromString',e=>{if(e.data.type!=='text/html')return false;e.data.string=__uv.rewriteHtml(e.data.string,{...__uv.meta,document:true})});client.attribute.on('getValue',e=>{if(client.element.hasAttribute.call(e.that.ownerElement,__uv.attributePrefix+'-attr-'+e.data.name)){e.data.value=client.element.getAttribute.call(e.that.ownerElement,__uv.attributePrefix+'-attr-'+e.data.name)}});client.attribute.on('setValue',e=>{if(__uv.attrs.isUrl(e.data.name)){e.target.call(e.that.ownerElement,__uv.attributePrefix+'-attr-'+e.data.name,e.data.value);e.data.value=__uv.rewriteUrl(e.data.value)};if(__uv.attrs.isStyle(e.data.name)){e.target.call(e.that.ownerElement,__uv.attributePrefix+'-attr-'+e.data.name,e.data.value);e.data.value=__uv.rewriteCSS(e.data.value,{context:'declarationList'})};if(__uv.attrs.isHtml(e.data.name)){e.target.call(e.that.ownerElement,__uv.attributePrefix+'-attr-'+e.data.name,e.data.value);e.data.value=__uv.rewriteHtml(e.data.value,{...__uv.meta,document:true,injectHead:__uv.createHtmlInject(__uv.handlerScript,__uv.bundleScript,__uv.configScript,__uv.cookieStr,window.location.href)})};if(__uv.attrs.isSrcset(e.data.name)){e.target.call(e.that.ownerElement,__uv.attributePrefix+'-attr-'+e.data.name,e.data.value);e.data.value=__uv.html.wrapSrcset(e.data.value)}});client.url.on('createObjectURL',e=>{let url=e.target.call(e.that,e.data.object);if(url.startsWith('blob:'+location.origin)){let newUrl='blob:'+(window.__uv$bare.protocol==='https:'?'wss://':'ws://')+window.__uv$bare.host+window.__uv$bare.pathname+'v1/';__uv.blobUrls.set(newUrl,url);e.respondWith(newUrl)}else{e.respondWith(url)}});client.url.on('revokeObjectURL',e=>{if(__uv.blobUrls.has(e.data.url)){const old=e.data.url;e.data.url=__uv.blobUrls.get(e.data.url);__uv.blobUrls.delete(old)}});client.storage.on('get',e=>{e.data.name=prefix+__uv.meta.url.origin+'@'+e.data.name});client.storage.on('set',e=>{if(e.that.__uv$storageObj){e.that.__uv$storageObj[e.data.name]=e.data.value};e.data.name=prefix+__uv.meta.url.origin+'@'+e.data.name});client.storage.on('delete',e=>{if(e.that.__uv$storageObj){delete e.that.__uv$storageObj[e.data.name]};e.data.name=prefix+__uv.meta.url.origin+'@'+e.data.name});client.storage.on('getItem',e=>{e.data.name=prefix+__uv.meta.url.origin+'@'+e.data.name});client.storage.on('setItem',e=>{if(e.that.__uv$storageObj){e.that.__uv$storageObj[e.data.name]=e.data.value};e.data.name=prefix+__uv.meta.url.origin+'@'+e.data.name});client.storage.on('removeItem',e=>{if(e.that.__uv$storageObj){delete e.that.__uv$storageObj[e.data.name]};e.data.name=prefix+__uv.meta.url.origin+'@'+e.data.name});client.storage.on('clear',e=>{if(e.that.__uv$storageObj){for(const key of client.nativeMethods.keys.call(null,e.that.__uv$storageObj)){delete e.that.__uv$storageObj[key];client.storage.removeItem.call(e.that,prefix+__uv.meta.url.origin+'@'+key);e.respondWith()}}});client.storage.on('length',e=>{if(e.that.__uv$storageObj){e.respondWith(client.nativeMethods.keys.call(null,e.that.__uv$storageObj).length)}});client.storage.on('key',e=>{if(e.that.__uv$storageObj){e.respondWith(client.nativeMethods.keys.call(null,e.that.__uv$storageObj)[e.data.index]||null)}});client.storage.on('get',e=>{e.data.name=prefix+__uv.meta.url.origin+'@'+e.data.name});client.storage.on('set',e=>{if(e.that.__uv$storageObj){e.that.__uv$storageObj[e.data.name]=e.data.value};e.data.name=prefix+__uv.meta.url.origin+'@'+e.data.name});client.storage.on('delete',e=>{if(e.that.__uv$storageObj){delete e.that.__uv$storageObj[e.data.name]};e.data.name=prefix+__uv.meta.url.origin+'@'+e.data.name});client.storage.on('getItem',e=>{e.data.name=prefix+__uv.meta.url.origin+'@'+e.data.name});client.storage.on('setItem',e=>{if(e.that.__uv$storageObj){e.that.__uv$storageObj[e.data.name]=e.data.value};e.data.name=prefix+__uv.meta.url.origin+'@'+e.data.name});client.storage.on('removeItem',e=>{if(e.that.__uv$storageObj){delete e.that.__uv$storageObj[e.data.name]};e.data.name=prefix+__uv.meta.url.origin+'@'+e.data.name});client.storage.on('clear',e=>{if(e.that.__uv$storageObj){for(const key of client.nativeMethods.keys.call(null,e.that.__uv$storageObj)){delete e.that.__uv$storageObj[key];client.storage.removeItem.call(e.that,prefix+__uv.meta.url.origin+'@'+key);e.respondWith()}}});client.storage.on('length',e=>{if(e.that.__uv$storageObj){e.respondWith(client.nativeMethods.keys.call(null,e.that.__uv$storageObj).length)}});client.storage.on('key',e=>{if(e.that.__uv$storageObj){e.respondWith(client.nativeMethods.keys.call(null,e.that.__uv$storageObj)[e.data.index]||null)}});client.websocket.on('websocket',async e=>{let url;try{url=new URL(e.data.url)}catch(e){return};const headers={Host:url.host,Origin:__uv.meta.url.origin,Pragma:'no-cache','Cache-Control':'no-cache',Upgrade:'websocket','User-Agent':w.navigator.userAgent,Connection:'Upgrade'},cookies=__uv.cookie.serialize(__uv.cookies,{url},false);if(cookies)headers.Cookie=cookies;const remote={protocol:url.protocol,host:url.hostname,port:url.port||(url.protocol==='wss:'?'443':'80'),path:url.pathname+url.search};if(e.data.protocols.length)headers['Sec-WebSocket-Protocol']=e.data.protocols.join(', ');event.data.url=(__uv.bare.protocol==='https:'?'wss://':'ws://')+__uv.bare.host+__uv.bare.pathname+'v1/';e.data.protocols=['bare',__uv.encodeProtocol(JSON.stringify({remote,headers,forward_headers:['accept','accept-encoding','accept-language','sec-websocket-extensions','sec-websocket-key','sec-websocket-version']}))];const ws=new e.target(e.data.url,e.data.protocols);client.nativeMethods.defineProperty(ws,prefix+'url',{enumerable:false,value:url.href});e.respondWith(ws)});client.websocket.on('url',e=>{if('__uv$url'in e.that){e.data.value=e.that.__uv$url}});client.websocket.on('protocol',e=>{if('__uv$protocol'in e.that){e.data.value=e.that.__uv$protocol}});client.function.on('function',e=>{e.data.script=__uv.rewriteJS(e.data.script)});client.function.on('toString',e=>{if(__uv.methods.string in e.that)e.respondWith(e.that[__uv.methods.string])});client.object.on('getOwnPropertyNames',e=>{e.data.names=e.data.names.filter(e=>!(__uv.filterKeys.includes(e)))});
    client.object.on('getOwnPropertyDescriptors',e=>{for(const f of __uv.filterKeys){delete e.data.descriptors[f]}});client.style.on('setProperty',e=>{if(client.style.dashedUrlProps.includes(e.data.property)){e.data.value=__uv.rewriteCSS(e.data.value,{context:'declarationList'})}});client.style.on('getPropertyValue',e=>{if(client.style.dashedUrlProps.includes(e.data.property)){e.respondWith(__uv.sourceCSS(e.target.call(e.that,e.data.property),{context:'value',...__uv.meta}))}});if('CSS2Properties'in w){for(const key of client.style.urlProps){client.overrideDescriptor(w.CSS2Properties.prototype,key,{get(t,that){return __uv.sourceCSS(t.call(that),{context:'value',...__uv.meta})},set(t,that,val){t.call(that,__uv.rewriteCSS(val,{context:'value',...__uv.meta}))}})}}else if('HTMLElement'in w){client.overrideDescriptor(w.HTMLElement.prototype,'style',{get(t,that){const value=t.call(that);if(!value[prefix+'modifiedStyle']){for(const key of client.style.urlProps){client.nativeMethods.defineProperty(value,key,{enumerable:true,configurable:true,get(){const value=client.style.getPropertyValue.call(this,key)||'';return __uv.sourceCSS(value,{context:'value',...__uv.meta})},set(val){client.style.setProperty.call(this,(client.style.propToDashed[key]||key),__uv.rewriteCSS(val,{context:'value',...__uv.meta}))}});client.nativeMethods.defineProperty(value,prefix+'modifiedStyle',{enumerable:false,value:true})}};return value}});};
    client.style.on('setCssText',e=>{e.data.value=__uv.rewriteCSS(e.data.value,{context:'declarationList',...__uv.meta})});client.style.on('getCssText',e=>{e.data.value=__uv.sourceCSS(e.data.value,{context:'declarationList',...__uv.meta})});client.fetch.overrideRequest();client.fetch.overrideUrl();client.xhr.overrideOpen();client.xhr.overrideResponseUrl();client.element.overrideHtml();client.element.overrideAttribute();client.element.overrideInsertAdjacentHTML();client.element.overrideAudio();client.node.overrideBaseURI();client.node.overrideTextContent();client.attribute.overrideNameValue();client.document.overrideDomain();client.document.overrideURL();client.document.overrideDocumentURI();client.document.overrideWrite();client.document.overrideReferrer();client.document.overrideParseFromString();client.storage.overrideMethods();client.storage.overrideLength();client.document.overrideQuerySelector();client.object.overrideGetPropertyNames();client.object.overrideGetOwnPropertyDescriptors();client.history.overridePushState();client.history.overrideReplaceState();client.eventSource.overrideConstruct();client.eventSource.overrideUrl();client.websocket.overrideWebSocket();client.websocket.overrideProtocol();client.websocket.overrideUrl();client.url.overrideObjectURL();client.document.overrideCookie();client.message.overridePostMessage();client.message.overrideMessageOrigin();client.message.overrideMessageData();client.workers.overrideWorker();client.workers.overrideAddModule();client.workers.overrideImportScripts();client.workers.overridePostMessage();client.style.overrideSetGetProperty();client.style.overrideCssText();client.navigator.overrideSendBeacon();client.function.overrideFunction();client.function.overrideToString();client.location.overrideWorkerLocation(href=>{return new URL(__uv.sourceUrl(href))});client.overrideDescriptor(w,'localStorage',{get(t,that){return (that||w).__uv.lsWrap}});client.overrideDescriptor(w,'sessionStorage',{get(t,that){return (that||w).__uv.ssWrap}});client.override(w,'open',(t,that,args)=>{if(!args.length)return t.apply(that,args);let[url]=args;url=__uv.rewriteUrl(url);return t.call(that,url)});__uv.$wrap=name=>{if(name==='location')return __uv.methods.location;if(name==='eval')return __uv.methods.eval;return name};__uv.$get=that=>{if(that===w.location)return __uv.location;if(that===w.eval)return __uv.eval;if(that===w.parent)return w.__uv$parent;if(that===w.top)return w.__uv$top;return that};__uv.eval=client.wrap(w,'eval',(t,that,args)=>{if(!args.length||typeof args[0]!=='string')return t.apply(that,args);let[script]=args;script=__uv.rewriteJS(script);return t.call(that,script)});__uv.call=(t,args,that)=>{return that?t.apply(that,args):t(...args)};__uv.call$=(obj,prop,args=[])=>{return obj[prop].apply(obj,args)};client.nativeMethods.defineProperty(w.Object.prototype,m,{get:()=>{return __uv},enumerable:false});client.nativeMethods.defineProperty(w.Object.prototype,__uv.methods.setSource,{value:function(source){if(!client.nativeMethods.isExtensible(this))return this;client.nativeMethods.defineProperty(this,__uv.methods.source,{value:source,writable:true,enumerable:false});return this},enumerable:false});client.nativeMethods.defineProperty(w.Object.prototype,__uv.methods.source,{value:__uv,writable:true,enumerable:false});client.nativeMethods.defineProperty(w.Object.prototype,__uv.methods.location,{configurable:true,get(){return(this===w.document||this===w)?__uv.location:this.location},set(val){if(this===w.document||this===w){__uv.location.href=val}else{this.location=val}}});client.nativeMethods.defineProperty(w.Object.prototype,__uv.methods.parent,{configurable:true,get(){const val=this.parent;if(this===w){try{return'__uv'in val?val:this}catch(e){return this}}return val},set(val){this.parent=val}}});client.nativeMethods.defineProperty(w.Object.prototype,__uv.methods.top,{configurable:true,get(){const val=this.top;if(this===w){if(val===this.parent)return this[__uv.methods.parent];try{if(!('__uv'in val)){let current=this;while(current.parent!==val){current=current.parent};return'__uv'in current?current:this}else{return val}}catch(e){return this}}return val},set(val){this.top=val}}});client.nativeMethods.defineProperty(w.Object.prototype,__uv.methods.eval,{configurable:true,get(){return this===w?__uv.eval:this.eval},set(val){this.eval=val}});
